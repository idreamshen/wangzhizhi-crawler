FROM python:3.12.4

ENV DB_HOST=192.168.31.85
ENV DB_PORT=3306
ENV DB_USERNAME=root
ENV DB_PASSWORD=1EddFDSjui123SDE34dsf00jFDS
ENV DB_DATABASE=wangzhizhi
ENV HEADER_AUTH="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJvcGVuaWQiOiJveXhHRDVkdjRyellTVXBqNm5rZmh5RFdIU19VIiwiYXBwaWQiOiJ3eGE1Y2Y0M2Y2NzdiOWEwNTkiLCJ0ZW5hbnRpZCI6IjE0Njk4NzY3MjcxOTkxNjY0NjUiLCJleHAiOjE3Mjc1MzkzNzYsImlhdCI6MTcyNDk0NzM3NiwidXNlcmlkIjoiMTc4ODgyMDUzNDY2MDQ4OTIxNiJ9.DupaHcy0XWI8lZneZ5fgDw3GmeRu7YY8gSTTOtzqvTk"


WORKDIR /app

COPY . /app

RUN pip install -r requirements.txt

ENTRYPOINT ["scrapy", "crawl", "city"]